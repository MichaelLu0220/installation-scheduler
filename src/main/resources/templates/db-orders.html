<!DOCTYPE html>
<html lang="zh-Hant" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DB 訂單狀態</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen bg-gray-50">
  <div class="max-w-6xl mx-auto p-6">
    <div class="flex items-center gap-3 mb-4">
      <a class="px-3 py-1.5 rounded-xl border hover:bg-white" href="/dashboard">返回 Dashboard</a>
      <div class="text-xl font-semibold">DB 訂單狀態（H2）</div>
      <a class="ml-auto px-3 py-1.5 rounded-xl border hover:bg-white" href="/h2-console" target="_blank">H2 Console</a>
    </div>
    <div class="bg-white rounded-2xl border shadow-sm overflow-hidden">
      <table class="w-full text-sm">
        <thead class="bg-gray-50 text-gray-600">
          <tr>
            <th class="px-4 py-2 text-left">ID</th>
            <th class="px-4 py-2 text-left">機台</th>
            <th class="px-4 py-2">截止日</th>
            <th class="px-4 py-2">預計完成日</th>
            <th class="px-4 py-2">狀態</th>
          </tr>
        </thead>
        <tbody>
          <tr th:each="o : ${orders}" class="border-t">
            <td class="px-4 py-2" th:text="${o.id}">1</td>
            <td class="px-4 py-2" th:text="${o.machineName}">M1</td>
            <td class="px-4 py-2 text-center" th:text="${o.dueDate}">2025-10-15</td>
            <td class="px-4 py-2 text-center" th:text="${o.etaDate}">2025-09-28</td>
            <td class="px-4 py-2 text-center">
              <span class="inline-flex items-center rounded-full px-2 py-0.5 text-xs"
                    th:classappend="${o.status}=='ON_TIME' ? ' bg-emerald-100 text-emerald-700' : ' bg-rose-100 text-rose-700'"
                    th:text="${o.status}">ON_TIME</span>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="mt-3 text-xs text-gray-500">API: <code>/api/db/orders</code></div>
  </div>
</body>
</html>
